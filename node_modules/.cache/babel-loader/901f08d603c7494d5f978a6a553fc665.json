{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\src\\\\components\\\\index\\\\login.js\";\nimport React from 'react';\nimport './../../support/css/login.css';\nimport Loader from 'react-loader-spinner';\nimport swal from 'sweetalert';\nimport { Redirect } from 'react-router-dom';\nimport { postLoginFunction } from './saga';\nimport { setProfileUser } from './token';\nimport { Grid, Button, TextField } from '@material-ui/core';\nimport CookiesNotification from './cookiesCard';\n\nvar Login = /*#__PURE__*/function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  var _super = _createSuper(Login);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this._isMounted = false;\n    _this.state = {\n      loading: false,\n      isLogin: false,\n      username: '',\n      password: '',\n      error: ''\n    };\n\n    _this.btnLogin = function () {\n      _this.setState({\n        loading: true\n      });\n\n      var username = _this.state.username;\n      var password = _this.state.password;\n      var param = {\n        key: username,\n        password: password\n      };\n\n      if (username === \"\" || password === \"\") {\n        swal(\"Error\", \"Username dan Password Kosong\", \"error\");\n\n        _this.setState({\n          loading: false\n        });\n      } else {\n        _this.postLogin(param);\n      }\n    };\n\n    _this.postLogin = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(param) {\n        var data, userPermission;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return postLoginFunction(param);\n\n              case 2:\n                data = _context.sent;\n\n                if (data) {\n                  if (!data.error) {\n                    userPermission = data.dataPermission || {};\n                    setProfileUser(JSON.stringify(userPermission));\n                    this.setState({\n                      loading: false,\n                      isLogin: true\n                    });\n                  } else {\n                    console.log(data);\n                    this.setState({\n                      loading: false\n                    });\n                    swal(\"Gagal Login\", \"Cek ulang Username dan Password\", \"info\");\n                  }\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.handleChangeTextField = function (e) {\n      var label = e.target.id;\n\n      _this.setState(_defineProperty({}, label, e.target.value));\n    };\n\n    _this.handleEnter = function (e) {\n      if (e.charCode === 13) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        _this.btnLogin();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._isMounted = true;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    } //LOGIN BUTTON\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.isLogin) {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CookiesNotification, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 4,\n        sm: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        className: \"loginContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 12,\n        style: {\n          textAlign: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: require('./../../icons/university.png'),\n        alt: \"\",\n        style: {\n          width: '40%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 12,\n        className: \"loginBox\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 12,\n        style: {\n          marginTop: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 37\n        }\n      }, \"University Dashboard\")), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 12,\n        style: {\n          marginTop: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        id: 'username',\n        size: \"small\",\n        margin: \"dense\",\n        variant: \"outlined\",\n        style: {\n          width: \"70%\"\n        },\n        label: 'Username',\n        onKeyPress: this.handleEnter,\n        value: this.state.username,\n        onChange: this.handleChangeTextField,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 12,\n        style: {\n          marginTop: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        id: 'password',\n        type: \"password\",\n        size: \"small\",\n        margin: \"dense\",\n        variant: \"outlined\",\n        style: {\n          width: \"70%\"\n        },\n        label: 'Password',\n        onKeyPress: this.handleEnter,\n        value: this.state.password,\n        onChange: this.handleChangeTextField,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 12,\n        style: {\n          marginTop: 20,\n          marginBottom: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 33\n        }\n      }, this.state.loading && /*#__PURE__*/React.createElement(Loader, {\n        type: \"Circles\",\n        color: \"#00BFFF\",\n        height: \"50\",\n        width: \"50\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 41\n        }\n      }), !this.state.loading && /*#__PURE__*/React.createElement(Button, {\n        disableElevation: true,\n        variant: \"contained\",\n        style: {\n          backgroundColor: '#20B889',\n          width: '70%',\n          color: 'white'\n        },\n        onClick: this.btnLogin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 45\n        }\n      }, \"Masuk\"))))))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/user/Desktop/albertjulian.github.io/src/components/index/login.js"],"names":["React","Loader","swal","Redirect","postLoginFunction","setProfileUser","Grid","Button","TextField","CookiesNotification","Login","_isMounted","state","loading","isLogin","username","password","error","btnLogin","setState","param","key","postLogin","data","userPermission","dataPermission","JSON","stringify","console","log","handleChangeTextField","e","label","target","id","value","handleEnter","charCode","preventDefault","stopPropagation","display","justifyContent","alignItems","textAlign","require","width","marginTop","marginBottom","backgroundColor","color","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport './../../support/css/login.css'\nimport Loader from 'react-loader-spinner'\nimport swal from 'sweetalert'\nimport {Redirect} from 'react-router-dom'\nimport { postLoginFunction } from './saga'\nimport { setProfileUser } from './token'\nimport { Grid, Button, TextField } from '@material-ui/core';\nimport CookiesNotification from './cookiesCard';\n\n \nclass Login extends React.Component{\n    _isMounted = false;\n\n    state={\n        loading:false, \n        isLogin:false,\n        username: '',\n        password: '',\n        error:''\n    }\n\n    componentDidMount(){\n        this._isMounted = true;\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;     \n    }\n  \n    //LOGIN BUTTON\n    btnLogin = ()=>{\n        this.setState({loading:true})\n\n        var username=this.state.username\n        var password=this.state.password\n\n        const param = {\n            key: username,\n            password\n        }\n\n        if (username===\"\" || password===\"\"){\n            swal(\"Error\",\"Username dan Password Kosong\",\"error\")\n            this.setState({loading:false})\n\n        } else{\n            this.postLogin(param)\n        }\n      \n    } \n    \n    postLogin = async function (param) {\n        const data = await postLoginFunction(param)\n\n        if(data) {\n            if(!data.error) {\n                let userPermission = data.dataPermission || {};  \n            \n                setProfileUser(JSON.stringify(userPermission))\n\n                this.setState({loading:false , isLogin : true})\n            } else {\n                console.log(data)\n                this.setState({loading:false})\n                swal(\"Gagal Login\",\"Cek ulang Username dan Password\",\"info\")\n            }\n        }\n    }\n\n    handleChangeTextField = (e) => {\n        const label = e.target.id;\n\n        this.setState({\n            [label] : e.target.value,\n        })\n    }\n\n    handleEnter =(e)=> {\n        if (e.charCode === 13) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.btnLogin();\n        }\n    }\n\n    render(){\n        if(this.state.isLogin){\n            return(\n                <Redirect to='/' />\n            )\n        }\n       \n\n        return (\n            <Grid container style={{ display:'flex', justifyContent: 'center', alignItems: 'center' }}>\n                <CookiesNotification />\n\n                <Grid item xs={4} sm={4}>\n                    <Grid container className='loginContainer'>\n                        <Grid item xs={12} sm={12} style={{textAlign:'center'}}>\n                            <img src={require('./../../icons/university.png')} alt='' style={{width:'40%'}} />\n                        </Grid>\n                        <Grid item xs={12} sm={12}  className='loginBox'>\n                            <Grid container>\n                                <Grid item xs={12} sm={12} style={{marginTop:20}}>\n                                    <h5>University Dashboard</h5> \n                                </Grid>\n                                <Grid item xs={12} sm={12} style={{marginTop:20}}>\n                                    <TextField\n                                        id={'username'}\n                                        size=\"small\"\n                                        margin=\"dense\"\n                                        variant='outlined'\n                                        style={{width:\"70%\"}}\n                                        label={'Username'}\n                                        onKeyPress={this.handleEnter}\n                                        value={this.state.username}\n                                        onChange={this.handleChangeTextField}\n                                    /> \n                                </Grid>\n                                <Grid item xs={12} sm={12} style={{marginTop:10}}>\n                                    <TextField\n                                        id={'password'}\n                                        type='password'\n                                        size=\"small\"\n                                        margin=\"dense\"\n                                        variant='outlined'\n                                        style={{width:\"70%\"}}\n                                        label={'Password'}\n                                        onKeyPress={this.handleEnter}\n                                        value={this.state.password}\n                                        onChange={this.handleChangeTextField}\n                                    />  \n                                    \n                                </Grid>\n\n                                <Grid item xs={12} sm={12} style={{marginTop:20, marginBottom: 20}}>\n                                    {\n                                        this.state.loading && \n                                        <Loader \n                                            type=\"Circles\"\n                                            color=\"#00BFFF\"\n                                            height=\"50\"\t\n                                            width=\"50\"\n                                        />   \n                                        \n                                    }\n                                    {\n                                        !this.state.loading && \n                                        <Button disableElevation\n                                            variant='contained'\n                                            style={{backgroundColor: '#20B889', width:'70%', color:'white'}}\n                                            onClick={this.btnLogin}\n                                        >\n                                            <b>Masuk</b>\n                                        </Button>\n                                    }\n                                    \n                                </Grid>\n                            </Grid>\n                            \n                        </Grid>\n                    </Grid>\n                    \n                </Grid>\n            </Grid>\n            \n        )\n\n    }\n      \n       \n    \n}\n\nexport default (Login);\n"]},"metadata":{},"sourceType":"module"}