{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\src\\\\components\\\\profileNasabah\\\\profileNasabah.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport './../../support/css/pagination.css';\nimport { getUniversityFunction } from './saga';\nimport 'moment/locale/id';\nimport { getTokenClient, getTokenAuth } from '../index/token';\nimport TableComponent from './../subComponent/TableComponent';\nimport { checkPermission } from '../global/globalFunction';\nimport SearchBar from '../subComponent/SearchBar';\nvar columnDataUser = [{\n  id: 'id',\n  numeric: false,\n  label: 'ID Nasabah'\n}, {\n  id: 'fullname',\n  numeric: false,\n  label: 'Nama Nasabah'\n}, {\n  id: 'category',\n  numeric: false,\n  label: 'Kategori'\n}, {\n  id: 'created_at',\n  numeric: false,\n  type: 'datetime',\n  label: 'Tanggal Registrasi'\n}, {\n  id: 'loan_status',\n  numeric: false,\n  label: 'Status Pinjaman Nasabah'\n}];\n\nvar profileNasabah = /*#__PURE__*/function (_React$Component) {\n  _inherits(profileNasabah, _React$Component);\n\n  var _super = _createSuper(profileNasabah);\n\n  function profileNasabah() {\n    var _this;\n\n    _classCallCheck(this, profileNasabah);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this._isMounted = false;\n    _this.state = {\n      universityList: [],\n      universityListPerPage: [],\n      searchRows: '',\n      page: 1,\n      rowsPerPage: 10,\n      isEdit: false,\n      total_data: 0,\n      last_page: 1,\n      loading: true\n    };\n    _this.getListUniversity = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _data, param;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (this.state.universityList) {\n                _context.next = 7;\n                break;\n              }\n\n              _context.next = 3;\n              return getUniversityFunction();\n\n            case 3:\n              _data = _context.sent;\n\n              if (_data) {\n                if (!_data.error) {\n                  constructDataUniversity(_data);\n                } else {\n                  this._isMounted && this.setState({\n                    errorMessage: _data.error,\n                    loading: false\n                  });\n                }\n              }\n\n              _context.next = 10;\n              break;\n\n            case 7:\n              param = {\n                rowsPerPage: this.state.rowsPerPage,\n                page: this.state.page\n              };\n\n              if (this.state.searchRows) {\n                param.search = this.state.searchRows;\n              }\n\n              constructDataUniversity(data, param);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.onChangeSearch = function (e) {\n      _this.setState({\n        searchRows: e.target.value\n      });\n    };\n\n    _this.onBtnSearch = function (e) {\n      _this.setState({\n        loading: true,\n        page: 1\n      }, function () {\n        _this.getListUniversity();\n      });\n    };\n\n    _this.onChangePage = function (current) {\n      _this.setState({\n        loading: true,\n        page: current\n      }, function () {\n        if (_this.state.paging) {\n          _this.getListUniversity();\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(profileNasabah, [{\n    key: \"componentDidMount\",\n    //-----------------------------------NIKO FUNCTION-------------------------------------------------------------\n    value: function componentDidMount() {\n      this._isMounted = true;\n      this._isMounted && this.getListUniversity();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    } //Ambil data pertama kali\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (getTokenClient() && getTokenAuth()) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            padding: 0\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(SearchBar, {\n          id: \"search\",\n          value: this.state.searchRows,\n          placeholder: 'Search University Name',\n          onChange: this.onBtnSearch,\n          float: 'right',\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(TableComponent, {\n          id: \"id\",\n          title: 'University - List',\n          search: {\n            value: this.state.searchRows,\n            label: 'Search ID Nasabah, Nama Nasabah',\n            function: this.onBtnSearch\n          },\n          errorMessage: this.state.errorMessage,\n          paging: this.state.paging,\n          loading: this.state.loading,\n          columnData: columnDataUser,\n          data: this.state.universityList,\n          page: this.state.page,\n          rowsPerPage: this.state.rowsPerPage,\n          totalData: this.state.total_data,\n          onChangePage: this.onChangePage,\n          permissionDetail: checkPermission('lender_borrower_list_detail') ? '/profileNasabahDetail/' : null,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 11\n          }\n        }));\n      } else if (getTokenAuth()) {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/login\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }\n        });\n      }\n    }\n  }]);\n\n  return profileNasabah;\n}(React.Component);\n\nvar mapStateToProp = function mapStateToProp(state) {\n  return {\n    id: state.user.id\n  };\n};\n\nexport default connect(mapStateToProp)(profileNasabah);","map":{"version":3,"sources":["C:/Users/user/Desktop/albertjulian.github.io/src/components/profileNasabah/profileNasabah.js"],"names":["React","connect","Redirect","getUniversityFunction","getTokenClient","getTokenAuth","TableComponent","checkPermission","SearchBar","columnDataUser","id","numeric","label","type","profileNasabah","_isMounted","state","universityList","universityListPerPage","searchRows","page","rowsPerPage","isEdit","total_data","last_page","loading","getListUniversity","data","error","constructDataUniversity","setState","errorMessage","param","search","onChangeSearch","e","target","value","onBtnSearch","onChangePage","current","paging","padding","function","Component","mapStateToProp","user"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {connect } from 'react-redux'\nimport { Redirect } from 'react-router-dom'\nimport './../../support/css/pagination.css'\nimport {getUniversityFunction} from './saga'\nimport 'moment/locale/id';\nimport { getTokenClient,getTokenAuth } from '../index/token'\nimport TableComponent from './../subComponent/TableComponent'\nimport { checkPermission } from '../global/globalFunction';\nimport SearchBar from '../subComponent/SearchBar';\n\nconst columnDataUser = [\n  {\n      id: 'id',\n      numeric: false,\n      label: 'ID Nasabah',\n  },\n  {\n      id: 'fullname',\n      numeric: false,\n      label: 'Nama Nasabah',\n  },\n  {\n      id: 'category',\n      numeric: false,\n      label: 'Kategori',\n  },\n  {\n    id: 'created_at',\n    numeric: false,\n    type: 'datetime',\n    label: 'Tanggal Registrasi',\n  },\n  {\n    id: 'loan_status',\n    numeric: false,\n    label: 'Status Pinjaman Nasabah',\n  },\n]\n\nclass profileNasabah extends React.Component {\n  \n  _isMounted = false\n  state = {\n    universityList: [],\n    universityListPerPage: [],\n    searchRows:'',\n    page: 1,\n    rowsPerPage: 10,\n    isEdit: false,\n    total_data:0,\n    last_page:1,\n    loading:true,\n  };\n  //-----------------------------------NIKO FUNCTION-------------------------------------------------------------\n  componentDidMount(){\n    this._isMounted=true\n    this._isMounted && this.getListUniversity()\n  }\n  componentWillUnmount(){\n    this._isMounted=false\n  }\n\n  \n  //Ambil data pertama kali\n  getListUniversity = async function(){\n    \n\n    if(!this.state.universityList) {\n      const data = await getUniversityFunction();\n\n      if(data){\n        if(!data.error){\n          constructDataUniversity(data);\n        }else{\n          this._isMounted && this.setState({errorMessage:data.error, loading:false})\n        }\n      }\n      \n    } else {\n      const param ={\n        rowsPerPage:this.state.rowsPerPage,\n        page:this.state.page\n      }\n  \n      if(this.state.searchRows){\n        param.search = this.state.searchRows\n      }\n\n      constructDataUniversity(data, param);\n    }\n    \n    \n    \n  }\n\n  onChangeSearch = (e)=>{\n    this.setState({searchRows:e.target.value});\n  }\n\n  onBtnSearch = (e)=>{\n    this.setState({loading:true, page:1},()=>{\n      this.getListUniversity()\n    })\n  }\n  \n  onChangePage = (current) => {\n    \n    this.setState({loading:true,page:current},()=>{\n\n      if(this.state.paging){\n        this.getListUniversity()\n      }\n    })\n  }\n  \n  render() {\n    if(getTokenClient()&&getTokenAuth()){\n      return (\n        <div style={{padding:0}}>\n          <SearchBar\n              id=\"search\"\n              value={this.state.searchRows}\n              placeholder={'Search University Name'}\n              onChange={this.onBtnSearch} \n              float={'right'}\n            />\n\n          < TableComponent\n            id={\"id\"}\n            title={'University - List'}\n            search={\n              {\n                value: this.state.searchRows,\n                label: 'Search ID Nasabah, Nama Nasabah',\n                function: this.onBtnSearch,\n              }\n            }\n            errorMessage={this.state.errorMessage}\n            paging={this.state.paging}\n            loading={this.state.loading}\n            columnData={columnDataUser}\n            data={this.state.universityList}\n            page={this.state.page}\n            rowsPerPage={this.state.rowsPerPage}\n            totalData={this.state.total_data}\n            onChangePage={this.onChangePage}             \n            permissionDetail={ checkPermission('lender_borrower_list_detail') ? '/profileNasabahDetail/' : null}\n          /> \n        \n        </div>\n      );\n    }\n    else if(getTokenAuth()){\n      return  <Redirect to='/login' />\n    }\n  }\n}\n\nconst mapStateToProp = (state)=>{\n  return{     \n      id: state.user.id\n  }\n}\nexport default connect (mapStateToProp)(profileNasabah) ;"]},"metadata":{},"sourceType":"module"}