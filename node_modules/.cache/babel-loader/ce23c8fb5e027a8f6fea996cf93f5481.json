{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport jsonWebToken from 'jsonwebtoken';\nimport { setProfileUser } from './token';\nimport { serverUrl, serverUrlBorrower } from '../url';\nimport { setTokenClient, setTokenBorrower, getTokenAuth, getTokenClient } from './token';\nvar userList = [{\n  username: 'admin',\n  password: 'admin'\n}];\nexport function postLoginFunction(_x) {\n  return _postLoginFunction.apply(this, arguments);\n}\n\nfunction _postLoginFunction() {\n  _postLoginFunction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(param) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n              var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve) {\n                var flag, i, error;\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.prev = 0;\n                        flag = false;\n                        i = 0;\n\n                      case 3:\n                        if (!(i < userList.length)) {\n                          _context.next = 10;\n                          break;\n                        }\n\n                        if (!(param.username === userList[i].username && param.password === userList[i].password)) {\n                          _context.next = 7;\n                          break;\n                        }\n\n                        flag = true;\n                        return _context.abrupt(\"break\", 10);\n\n                      case 7:\n                        i += 1;\n                        _context.next = 3;\n                        break;\n\n                      case 10:\n                        if (flag) {\n                          setProfileUser(JSON.stringify(userPermission));\n                          setTokenClient('xVuniversityVx', new Date().getTime() + 7 * 24 * 3600 * 1000);\n                        } else {\n                          param.error = 'Username dan Password tidak sesuai';\n                        }\n\n                        resolve(param);\n                        _context.next = 19;\n                        break;\n\n                      case 14:\n                        _context.prev = 14;\n                        _context.t0 = _context[\"catch\"](0);\n                        error = _context.t0.message && \"Error : \".concat(_context.t0.message.toString().toUpperCase());\n                        param.error = error;\n                        resolve(param);\n\n                      case 19:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, null, [[0, 14]]);\n              }));\n\n              return function (_x12) {\n                return _ref.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _postLoginFunction.apply(this, arguments);\n}\n\nexport function getTokenBorrowerFunction(_x2, _x3) {\n  return _getTokenBorrowerFunction.apply(this, arguments);\n}\n\nfunction _getTokenBorrowerFunction() {\n  _getTokenBorrowerFunction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(param, next) {\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n              var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(resolve) {\n                var newLink, logindata;\n                return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                  while (1) {\n                    switch (_context3.prev = _context3.next) {\n                      case 0:\n                        newLink = serverUrlBorrower + \"clientauth\";\n                        logindata = {\n                          auth: {\n                            username: 'androkey',\n                            password: 'androsecret'\n                          }\n                        };\n                        axios.get(newLink, logindata).then(function (res) {\n                          param.dataTokenBorrower = res.data.token;\n                          setTokenBorrower(res.data.token);\n\n                          if (next) {\n                            resolve(next(param));\n                          }\n\n                          resolve(param);\n                        }).catch(function (err) {\n                          var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase());\n                          param.error = error;\n                          resolve(param);\n                        });\n\n                      case 3:\n                      case \"end\":\n                        return _context3.stop();\n                    }\n                  }\n                }, _callee3);\n              }));\n\n              return function (_x13) {\n                return _ref2.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _getTokenBorrowerFunction.apply(this, arguments);\n}\n\nexport function getUserProfileFunction(_x4, _x5) {\n  return _getUserProfileFunction.apply(this, arguments);\n}\n\nfunction _getUserProfileFunction() {\n  _getUserProfileFunction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(param, next) {\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            return _context6.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n              var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(resolve) {\n                var newLink, config;\n                return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n                  while (1) {\n                    switch (_context5.prev = _context5.next) {\n                      case 0:\n                        newLink = serverUrl + 'lender/profile';\n                        config = {\n                          headers: {\n                            'Authorization': \"Bearer \" + getTokenClient()\n                          }\n                        };\n                        axios.get(newLink, config).then(function (res) {\n                          var token = jsonWebToken.verify(param.dataTokenLender, 'sXQ8jUMpueOvN5P3cdCR');\n                          token.name = res.data && res.data.name;\n                          token.image = res.data && res.data.image;\n                          token.firstLogin = res.data && res.data.first_login;\n                          param.dataPermission = token;\n\n                          if (next) {\n                            resolve(next(param));\n                          }\n\n                          resolve(param);\n                        }).catch(function (err) {\n                          var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase());\n                          param.error = error;\n                          resolve(param);\n                        });\n\n                      case 3:\n                      case \"end\":\n                        return _context5.stop();\n                    }\n                  }\n                }, _callee5);\n              }));\n\n              return function (_x14) {\n                return _ref3.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n  return _getUserProfileFunction.apply(this, arguments);\n}\n\nexport function sendEmailFunction(_x6, _x7) {\n  return _sendEmailFunction.apply(this, arguments);\n}\n\nfunction _sendEmailFunction() {\n  _sendEmailFunction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(param, next) {\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            return _context8.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n              var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(resolve) {\n                var tokenAuth, config;\n                return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n                  while (1) {\n                    switch (_context7.prev = _context7.next) {\n                      case 0:\n                        tokenAuth = getTokenAuth();\n                        config = {\n                          headers: {\n                            'Authorization': \"Bearer \" + tokenAuth\n                          }\n                        };\n                        axios.post(serverUrl + 'client/forgotpassword', param, config).then(function (res) {\n                          if (next) {\n                            resolve(next(param));\n                          }\n\n                          resolve(res);\n                        }).catch(function (err) {\n                          var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase()) || err.toString();\n                          param.error = error;\n                          resolve(param);\n                        });\n\n                      case 3:\n                      case \"end\":\n                        return _context7.stop();\n                    }\n                  }\n                }, _callee7);\n              }));\n\n              return function (_x15) {\n                return _ref4.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8);\n  }));\n  return _sendEmailFunction.apply(this, arguments);\n}\n\nexport function changePasswordFunction(_x8, _x9) {\n  return _changePasswordFunction.apply(this, arguments);\n}\n\nfunction _changePasswordFunction() {\n  _changePasswordFunction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(param, next) {\n    return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            return _context10.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n              var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(resolve) {\n                var tokenAuth, config;\n                return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n                  while (1) {\n                    switch (_context9.prev = _context9.next) {\n                      case 0:\n                        tokenAuth = getTokenAuth();\n                        config = {\n                          headers: {\n                            'Authorization': \"Bearer \" + tokenAuth\n                          }\n                        };\n                        axios.post(serverUrl + 'client/resetpassword', param, config).then(function (res) {\n                          if (next) {\n                            resolve(next(param));\n                          }\n\n                          resolve(res);\n                        }).catch(function (err) {\n                          var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase()) || err.toString();\n                          param.error = error;\n                          resolve(param);\n                        });\n\n                      case 3:\n                      case \"end\":\n                        return _context9.stop();\n                    }\n                  }\n                }, _callee9);\n              }));\n\n              return function (_x16) {\n                return _ref5.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10);\n  }));\n  return _changePasswordFunction.apply(this, arguments);\n}\n\nexport function changeFirstLoginFunction(_x10, _x11) {\n  return _changeFirstLoginFunction.apply(this, arguments);\n}\n\nfunction _changeFirstLoginFunction() {\n  _changeFirstLoginFunction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(param, next) {\n    return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n      while (1) {\n        switch (_context12.prev = _context12.next) {\n          case 0:\n            return _context12.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n              var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(resolve) {\n                var tokenClient, config;\n                return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n                  while (1) {\n                    switch (_context11.prev = _context11.next) {\n                      case 0:\n                        tokenClient = getTokenClient();\n                        config = {\n                          headers: {\n                            'Authorization': \"Bearer \" + tokenClient\n                          }\n                        };\n                        axios.post(serverUrl + 'lender/first_login', param, config).then(function (res) {\n                          if (next) {\n                            resolve(next(param));\n                          }\n\n                          resolve(res);\n                        }).catch(function (err) {\n                          var error = err.response && err.response.data && err.response.data.message && \"Error : \".concat(err.response.data.message.toString().toUpperCase()) || err.toString();\n                          param.error = error;\n                          resolve(param);\n                        });\n\n                      case 3:\n                      case \"end\":\n                        return _context11.stop();\n                    }\n                  }\n                }, _callee11);\n              }));\n\n              return function (_x17) {\n                return _ref6.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case \"end\":\n            return _context12.stop();\n        }\n      }\n    }, _callee12);\n  }));\n  return _changeFirstLoginFunction.apply(this, arguments);\n}","map":{"version":3,"sources":["C:/Users/user/Desktop/albertjulian.github.io/src/components/index/saga.js"],"names":["axios","jsonWebToken","setProfileUser","serverUrl","serverUrlBorrower","setTokenClient","setTokenBorrower","getTokenAuth","getTokenClient","userList","username","password","postLoginFunction","param","Promise","resolve","flag","i","length","JSON","stringify","userPermission","Date","getTime","error","message","toString","toUpperCase","getTokenBorrowerFunction","next","newLink","logindata","auth","get","then","res","dataTokenBorrower","data","token","catch","err","response","getUserProfileFunction","config","headers","verify","dataTokenLender","name","image","firstLogin","first_login","dataPermission","sendEmailFunction","tokenAuth","post","changePasswordFunction","changeFirstLoginFunction","tokenClient"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport jsonWebToken from 'jsonwebtoken'\nimport { setProfileUser } from './token'\nimport {serverUrl, serverUrlBorrower} from '../url'\nimport { setTokenClient, setTokenBorrower, getTokenAuth, getTokenClient } from './token';\n\nconst userList = [\n    {\n        username: 'admin',\n        password: 'admin',\n    }\n]\n\nexport async function postLoginFunction (param) {\n    return new Promise(async (resolve)=>{\n        try {\n            let flag = false;\n\n            for (let i = 0; i < userList.length; i += 1) {\n                if (\n                    param.username === userList[i].username &&\n                    param.password === userList[i].password\n                ) {\n                    flag = true;\n                    break;\n                }\n            }\n\n            if (flag) {\n                setProfileUser(JSON.stringify(userPermission))\n                setTokenClient('xVuniversityVx', new Date().getTime() + (7 * 24 * 3600 *1000))\n            } else {\n                param.error = 'Username dan Password tidak sesuai'\n            }\n            \n\n            resolve(param)\n        } catch (err){\n            const error = err.message && `Error : ${err.message.toString().toUpperCase()}`\n            param.error = error;\n            resolve(param);\n        }\n    })\n    \n}\n\nexport async function getTokenBorrowerFunction (param, next) {\n    return new Promise(async (resolve)=>{\n        let newLink = serverUrlBorrower +`clientauth`;  \n        const logindata = {\n            auth: {\n                username : 'androkey',\n                password : 'androsecret'\n            }\n        };\n          \n        axios.get(newLink, logindata)\n        .then((res)=>{          \n            param.dataTokenBorrower = res.data.token;\n\n            setTokenBorrower(res.data.token);\n\n            if(next){\n                resolve(next(param))\n            }\n            resolve(param)\n        })\n        .catch((err)=>{\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\n            param.error = error;\n            resolve(param);\n        })\n    })\n    \n}\n\nexport async function getUserProfileFunction(param, next) {\n    return new Promise(async (resolve) => {    \n       \n        const newLink = serverUrl + 'lender/profile'\n\n        const config = {\n            headers: {'Authorization': \"Bearer \" + getTokenClient()}\n        };\n\n        axios.get(newLink, config).then((res)=>{       \n            var token = jsonWebToken.verify(param.dataTokenLender,'sXQ8jUMpueOvN5P3cdCR');\n            token.name = res.data && res.data.name;\n            token.image = res.data && res.data.image;\n            token.firstLogin = res.data && res.data.first_login;\n\n            param.dataPermission = token;\n\n\n            if(next){\n                resolve(next(param))\n            }\n            resolve(param)\n        }).catch((err)=>{\n            const error = err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`\n            param.error = error;\n            resolve(param);\n        })\n        \n    });\n    \n}\n\n\nexport async function sendEmailFunction (param,next){\n    return new Promise(async (resolve)=>{\n        const tokenAuth = getTokenAuth();\n\n        const config = {\n            headers: {'Authorization': \"Bearer \" + tokenAuth}\n        };\n        axios.post(serverUrl+'client/forgotpassword',param,config)\n        .then((res)=>{\n            if(next){\n                resolve(next(param))\n            }\n            resolve(res)\n        })\n        .catch((err)=>{\n            const error =( err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`)|| err.toString()\n            param.error = error;\n            resolve(param);\n        })\n\n    })\n}\n\nexport async function changePasswordFunction (param,next){\n    return new Promise(async(resolve)=>{\n        const tokenAuth = getTokenAuth();\n\n        const config = {\n            headers: {'Authorization': \"Bearer \" + tokenAuth}\n        };\n        axios.post(serverUrl+'client/resetpassword',param,config)\n        .then((res)=>{\n            if(next){\n                resolve(next(param))\n            }\n            resolve(res)\n        })\n        .catch((err)=>{\n            const error =( err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`)|| err.toString()\n            param.error = error;\n            resolve(param);\n        })\n    })\n}\n\nexport async function changeFirstLoginFunction (param,next){\n    return new Promise(async(resolve)=>{\n        const tokenClient = getTokenClient();\n\n        const config = {\n            headers: {'Authorization': \"Bearer \" + tokenClient}\n        };\n        axios.post(serverUrl+'lender/first_login',param,config)\n        .then((res)=>{\n            if(next){\n                resolve(next(param))\n            }\n            resolve(res)\n        })\n        .catch((err)=>{\n            const error =( err.response && err.response.data && err.response.data.message && `Error : ${err.response.data.message.toString().toUpperCase()}`)|| err.toString()\n            param.error = error;\n            resolve(param);\n        })\n    })\n}\n\n\n"]},"metadata":{},"sourceType":"module"}