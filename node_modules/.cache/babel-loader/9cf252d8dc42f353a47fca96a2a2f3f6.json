{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\albertjulian.github.io\\\\src\\\\components\\\\university\\\\universityDetail.js\";\nimport React from 'react';\nimport './../../support/css/profilenasabahdetail.css';\nimport Loading from '../subComponent/Loading';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getProfileNasabahDetailFunction, deleteProfileNasabahFunction } from './saga';\nimport { getProfileUser, getTokenClient, getTokenAuth } from '../index/token';\nimport GridDetail from '../subComponent/GridDetail';\nimport { handleFormatDate } from '../global/globalFunction';\nimport TitleBar from '../subComponent/TitleBar';\nimport DialogComponent from '../subComponent/DialogComponent';\nimport { Grid } from '@material-ui/core';\nimport ActionComponent from '../subComponent/ActionComponent';\nimport swal from 'sweetalert';\n\nvar profileNasabahDetail = /*#__PURE__*/function (_React$Component) {\n  _inherits(profileNasabahDetail, _React$Component);\n\n  var _super = _createSuper(profileNasabahDetail);\n\n  function profileNasabahDetail() {\n    var _this;\n\n    _classCallCheck(this, profileNasabahDetail);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this._isMounted = false;\n    _this.state = {\n      bankName: '',\n      title: '',\n      message: '',\n      diKlik: false,\n      rows: [],\n      modalKTP: false,\n      modalNPWP: false,\n      npwp: null,\n      ktp: null,\n      gambarKTP: null,\n      gambarNPWP: null,\n      loading: true\n    };\n    _this.getDataDetail = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var param, data, flag;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              param = {\n                id: this.props.match.params.id\n              };\n              _context.next = 3;\n              return getProfileNasabahDetailFunction(param);\n\n            case 3:\n              data = _context.sent;\n\n              if (data) {\n                if (!data.error) {\n                  flag = false;\n                  this._isMounted && this.setState({\n                    rows: data.detailProfileNasabah,\n                    diKlik: flag,\n                    loading: false\n                  });\n                } else {\n                  this._isMounted && this.setState({\n                    errorMessage: data.error,\n                    loading: false\n                  });\n                }\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    _this.handleDialog = function (e) {\n      var label = e.target.value;\n      var title = '';\n      var message = '';\n\n      if (label.toLowerCase().includes('ktp')) {\n        title = 'KTP';\n        message = _this.state.rows && _this.state.rows.idcard_image;\n      } else if (label.toLowerCase().includes('npwp')) {\n        title = 'NPWP';\n        message = _this.state.rows && _this.state.rows.taxid_image;\n      } else if (label.toLowerCase().includes('nasabah')) {\n        title = 'Foto Nasabah';\n        message = _this.state.rows && _this.state.rows.image_profile;\n      }\n\n      _this.setState({\n        dialog: true,\n        message: message,\n        title: title\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        dialog: false\n      });\n    };\n\n    _this.btnCancel = function () {\n      _this.setState({\n        diKlik: true\n      });\n    };\n\n    _this.permissionApprove = function () {\n      if (_this.state.rows && _this.state.rows.status && _this.state.rows.status === 'deleted') {\n        return true;\n      }\n\n      return false;\n    };\n\n    _this.btnApproveReject = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e, status) {\n        var param, response;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.setState({\n                  loading: true\n                });\n                param = {\n                  id: this.props.match.params.id,\n                  status: status\n                };\n                _context2.next = 4;\n                return deleteProfileNasabahFunction(param);\n\n              case 4:\n                response = _context2.sent;\n\n                if (response && !response.error) {\n                  swal(\"Success\", \"Data Nasabah dengan id \".concat(this.props.match.params.id, \" Berhasil Dihapus\"), \"success\");\n                  this.setState({\n                    diKlik: true,\n                    loading: false\n                  });\n                } else {\n                  this._isMounted && this.setState({\n                    errorMessage: response.error,\n                    loading: false\n                  });\n                }\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function (_x, _x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(profileNasabahDetail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._isMounted = true;\n      this._isMounted && this.getDataDetail();\n\n      if (getProfileUser()) {\n        var bank = JSON.parse(getProfileUser());\n        this._isMounted && this.setState({\n          bankName: bank.name\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.diKlik) {\n        if (this.permissionApprove()) {\n          return /*#__PURE__*/React.createElement(Redirect, {\n            to: \"/profileDeleteNasabah\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 21\n            }\n          });\n        }\n\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/profileNasabah\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 17\n          }\n        });\n      } else if (this.state.loading) {\n        return /*#__PURE__*/React.createElement(Loading, {\n          title: 'Nasabah - Detail',\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 17\n          }\n        });\n      } else if (getTokenAuth() && getTokenClient()) {\n        return /*#__PURE__*/React.createElement(Grid, {\n          container: true,\n          className: \"containerDetail\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          sm: 12,\n          xs: 12,\n          style: {\n            maxHeight: 50\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(TitleBar, {\n          title: 'University - Detail',\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }\n        })), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          sm: 12,\n          xs: 12,\n          style: {\n            padding: 10,\n            marginBottom: 20,\n            boxShadow: '0px -3px 25px rgba(99,167,181,0.24)',\n            WebkitBoxShadow: '0px -3px 25px rgba(99,167,181,0.24)',\n            borderRadius: '15px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Grid, {\n          container: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          sm: 12,\n          xs: 12,\n          style: {\n            color: 'red'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 29\n          }\n        }, this.state.errorMessage), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          sm: 12,\n          xs: 12,\n          style: {\n            marginBottom: \"10px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Grid, {\n          container: true,\n          spacing: 2,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          sm: 2,\n          xs: 12,\n          style: {\n            marginBottom: '10px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"input\", {\n          className: \"buttonCustomAsira\",\n          type: \"button\",\n          style: {\n            width: \"100%\"\n          },\n          value: \"Foto KTP\",\n          onClick: this.handleDialog,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 41\n          }\n        })), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          sm: 2,\n          xs: 12,\n          style: {\n            marginBottom: '10px'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"input\", {\n          className: \"buttonCustomAsira\",\n          type: \"button\",\n          style: {\n            width: \"100%\"\n          },\n          value: \"Foto NPWP\",\n          onClick: this.handleDialog,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 41\n          }\n        })), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          sm: 2,\n          xs: 12,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"input\", {\n          className: \"buttonCustomAsira\",\n          type: \"button\",\n          style: {\n            width: \"100%\"\n          },\n          value: \"Foto Nasabah\",\n          onClick: this.handleDialog,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 41\n          }\n        })))))));\n      } else if (getTokenAuth()) {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/login\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 17\n          }\n        });\n      }\n    }\n  }]);\n\n  return profileNasabahDetail;\n}(React.Component);\n\nvar mapStateToProp = function mapStateToProp(state) {\n  return {\n    name: state.user.name\n  };\n};\n\nexport default connect(mapStateToProp)(profileNasabahDetail);","map":{"version":3,"sources":["C:/Users/user/Desktop/albertjulian.github.io/src/components/university/universityDetail.js"],"names":["React","Loading","Redirect","connect","getProfileNasabahDetailFunction","deleteProfileNasabahFunction","getProfileUser","getTokenClient","getTokenAuth","GridDetail","handleFormatDate","TitleBar","DialogComponent","Grid","ActionComponent","swal","profileNasabahDetail","_isMounted","state","bankName","title","message","diKlik","rows","modalKTP","modalNPWP","npwp","ktp","gambarKTP","gambarNPWP","loading","getDataDetail","param","id","props","match","params","data","error","flag","setState","detailProfileNasabah","errorMessage","handleDialog","e","label","target","value","toLowerCase","includes","idcard_image","taxid_image","image_profile","dialog","handleClose","btnCancel","permissionApprove","status","btnApproveReject","response","bank","JSON","parse","name","maxHeight","padding","marginBottom","boxShadow","WebkitBoxShadow","borderRadius","color","width","Component","mapStateToProp","user"],"mappings":"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","sourcesContent":["import React from 'react'\nimport './../../support/css/profilenasabahdetail.css'\nimport Loading from '../subComponent/Loading';\nimport { Redirect } from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport { getProfileNasabahDetailFunction, deleteProfileNasabahFunction } from './saga';\nimport { getProfileUser,getTokenClient,getTokenAuth } from '../index/token'\nimport GridDetail from '../subComponent/GridDetail'\nimport { handleFormatDate } from '../global/globalFunction';\nimport TitleBar from '../subComponent/TitleBar';\nimport DialogComponent from '../subComponent/DialogComponent'\nimport { Grid } from '@material-ui/core';\nimport ActionComponent from '../subComponent/ActionComponent';\nimport swal from 'sweetalert';\n\nclass profileNasabahDetail extends React.Component{\n    _isMounted = false\n    state={\n        bankName:'',\n        title:'',\n        message:'',\n        diKlik:false,\n        rows:[],\n        modalKTP:false,\n        modalNPWP:false,\n        npwp:null,\n        ktp:null,\n        gambarKTP:null,\n        gambarNPWP:null,\n        loading: true,\n    }\n    \n    componentDidMount(){\n        this._isMounted=true\n        this._isMounted && this.getDataDetail()  \n        if(getProfileUser()) {\n            const bank = JSON.parse(getProfileUser()) ;\n            this._isMounted && this.setState({bankName: bank.name})\n          }\n    }\n    componentWillUnmount(){\n        this._isMounted=false\n    }\n\n    getDataDetail = async function (){\n         const param = {id:this.props.match.params.id}\n         const data = await getProfileNasabahDetailFunction(param)\n         \n         if(data){\n             if(!data.error){   \n                let flag = false\n\n                this._isMounted && this.setState({rows:data.detailProfileNasabah,diKlik:flag, loading:false})\n\n             }else{\n                this._isMounted && this.setState({errorMessage:data.error, loading:false})\n             }\n         }  \n    }\n\n    handleDialog = (e) => {\n        let label = e.target.value\n        let title = '';\n        let message='';\n  \n        if(label.toLowerCase().includes('ktp')) {\n          title = 'KTP'\n          message = this.state.rows && this.state.rows.idcard_image\n  \n        } else if(label.toLowerCase().includes('npwp')) {\n          title = 'NPWP'\n          message = this.state.rows && this.state.rows.taxid_image\n  \n        }\n        else if(label.toLowerCase().includes('nasabah')) {\n          title = 'Foto Nasabah'\n          message = this.state.rows && this.state.rows.image_profile\n        }\n  \n        this.setState({\n          dialog: true,\n          message,\n          title,\n        })\n    }\n\n    handleClose = () => {\n        this.setState({dialog: false})\n    }\n\n    btnCancel = ()=>{\n        this.setState({diKlik:true})\n    }\n\n    permissionApprove = () => {\n        if(this.state.rows && this.state.rows.status && this.state.rows.status === 'deleted') {\n            return true;\n        }\n        return false;\n    }\n\n    btnApproveReject = async function(e, status) {\n        this.setState({loading: true});\n        let param = {\n            id:this.props.match.params.id,\n            status \n        };\n        const response = await deleteProfileNasabahFunction(param);\n\n        if(response && !response.error) {\n            swal(\"Success\",`Data Nasabah dengan id ${this.props.match.params.id} Berhasil Dihapus`,\"success\")\n            this.setState({diKlik: true, loading: false})\n        } else {\n            this._isMounted && this.setState({errorMessage:response.error, loading:false})\n        }\n    }\n  \n    render(){\n        if(this.state.diKlik){\n            if(this.permissionApprove()) {\n                return(\n                    <Redirect to='/profileDeleteNasabah'/>\n                )\n            }\n            return(\n                <Redirect to='/profileNasabah'/>\n            )\n        } else if (this.state.loading){\n            return(\n                <Loading\n                  title={'Nasabah - Detail'}\n                />\n            )\n        }else if(getTokenAuth() && getTokenClient()){\n            return(\n                <Grid container className=\"containerDetail\">\n                    <Grid item sm={12} xs={12} style={{maxHeight:50}}>\n                        <TitleBar\n                            title={'University - Detail'}\n                        />\n\n                    </Grid>\n    \n                    <Grid\n                        item\n                        sm={12} xs={12}\n                        style={{padding:10, marginBottom:20, boxShadow:'0px -3px 25px rgba(99,167,181,0.24)', WebkitBoxShadow:'0px -3px 25px rgba(99,167,181,0.24)', borderRadius:'15px'}}                  \n                    >\n                        <Grid container>\n                            <Grid item sm={12} xs={12} style={{color:'red'}}>\n                                {this.state.errorMessage}\n                            </Grid>\n\n                            <Grid item sm={12} xs={12} style={{marginBottom:\"10px\"}}>\n                                <Grid container spacing={2}>\n                                    <Grid item sm={2} xs={12} style={{marginBottom:'10px'}}>\n                                        <input className='buttonCustomAsira' type=\"button\" style={{width:\"100%\"}} value=\"Foto KTP\" onClick={this.handleDialog}></input>                               \n                                    </Grid>\n                                    <Grid item sm={2} xs={12} style={{marginBottom:'10px'}}>\n                                        <input className='buttonCustomAsira' type=\"button\" style={{width:\"100%\"}} value=\"Foto NPWP\" onClick={this.handleDialog}></input>\n                                    </Grid>\n                                    <Grid item sm={2} xs={12} >\n                                        <input className='buttonCustomAsira' type=\"button\" style={{width:\"100%\"}} value=\"Foto Nasabah\" onClick={this.handleDialog}></input>\n                                    </Grid>\n                                   \n                                </Grid> \n                                              \n                            </Grid>\n\n                        </Grid>\n                        \n                    </Grid>                                      \n                    \n                </Grid>\n            )\n        \n        } else if(getTokenAuth()){\n            return (\n                <Redirect to='/login' />\n            )    \n        }\n        \n    }\n}\nconst mapStateToProp = (state)=>{\n    return{\n        name:state.user.name\n        \n    }\n    \n}\nexport default connect(mapStateToProp) (profileNasabahDetail);"]},"metadata":{},"sourceType":"module"}